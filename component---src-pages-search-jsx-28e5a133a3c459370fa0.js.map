{"version":3,"file":"component---src-pages-search-jsx-28e5a133a3c459370fa0.js","mappings":"kOAcA,MAAMA,EAAgBC,EAAAA,QAAOC,IAAGC,WAAA,CAAAC,YAAA,wBAAAC,YAAA,eAAVJ,CAAU,+DAiDhC,UA1CeK,IAAe,IAAd,KAAEC,GAAMD,EACtB,MAAM,MAAEE,EAAK,YAAEC,EAAW,QAAEC,GAAYC,EAAAA,EAClCC,EAAQL,EAAKM,kBAAkBC,OAE/B,EAACC,EAAM,EAACC,IAAYC,EAAAA,EAAAA,UAAS,IAE7BC,GAAgBC,EAAAA,EAAAA,aACpBP,EAAMQ,QAAQC,IACZ,MAAM,YAAEC,EAAW,gBAAEC,GAAoBF,GACnC,MAAEb,GAAUc,EACZE,EAAaT,EAAMU,oBAEzB,QAAIF,EAAgBE,oBAAoBC,SAASF,IAE1ChB,EAAMiB,oBAAoBC,SAASF,EAAW,IAEvD,CAACT,IAGH,OACEY,EAAAA,cAACC,EAAAA,EAAM,KACLD,EAAAA,cAACE,EAAAA,EAAG,CAACrB,MAAOA,EAAOC,YAAaA,EAAaqB,IAAKpB,IAClDiB,EAAAA,cAACI,EAAAA,EAAa,CAACC,KAAM,KACrBL,EAAAA,cAAC3B,EAAa,KACZ2B,EAAAA,cAACM,EAAAA,EAAK,CACJC,aAAchB,EAAciB,OAC5BC,MAAM,OACNC,IAAK,GACLC,UAAU,EACVC,GAAI,CAAEC,IAAK,OAAQC,KAAM,SAE3Bd,EAAAA,cAACe,EAAAA,EAAS,CACRC,SAAWC,GAAM5B,EAAS4B,EAAEC,OAAOC,OACnCC,YAAY,YAGhBpB,EAAAA,cAACqB,EAAAA,EAAO,MACRrB,EAAAA,cAACsB,EAAAA,EAAQ,CAACC,SAAUhC,IACb,C","sources":["webpack://the-great-pang/./src/pages/search.jsx"],"sourcesContent":["import React, { useState, useCallback } from 'react';\r\nimport styled from 'styled-components';\r\nimport SEO from 'components/SEO';\r\nimport { graphql } from 'gatsby';\r\n\r\nimport Layout from 'components/Layout';\r\nimport PostList from 'components/PostList';\r\nimport TextField from 'components/TextField';\r\nimport Badge from '@mui/material/Badge';\r\nimport VerticalSpace from 'components/VerticalSpace';\r\n\r\nimport blogConfig from '../../blog-config';\r\nimport Divider from '../components/Divider';\r\n\r\nconst SearchWrapper = styled.div`\r\n  margin-top: 20px;\r\n  @media (max-width: 768px) {\r\n    padding: 0 13px;\r\n  }\r\n`;\r\n\r\nconst Search = ({ data }) => {\r\n  const { title, description, siteUrl } = blogConfig;\r\n  const posts = data.allMarkdownRemark.nodes;\r\n\r\n  const [query, setQuery] = useState('');\r\n\r\n  const filteredPosts = useCallback(\r\n    posts.filter((post) => {\r\n      const { frontmatter, rawMarkdownBody } = post;\r\n      const { title } = frontmatter;\r\n      const lowerQuery = query.toLocaleLowerCase();\r\n\r\n      if (rawMarkdownBody.toLocaleLowerCase().includes(lowerQuery)) return true;\r\n\r\n      return title.toLocaleLowerCase().includes(lowerQuery);\r\n    }),\r\n    [query]\r\n  );\r\n\r\n  return (\r\n    <Layout>\r\n      <SEO title={title} description={description} url={siteUrl} />\r\n      <VerticalSpace size={10} />\r\n      <SearchWrapper>\r\n        <Badge\r\n          badgeContent={filteredPosts.length}\r\n          color=\"info\"\r\n          max={99}\r\n          showZero={true}\r\n          sx={{ top: '12px', left: '2px' }}\r\n        ></Badge>\r\n        <TextField\r\n          onChange={(e) => setQuery(e.target.value)}\r\n          placeholder=\"Search\"\r\n        />\r\n      </SearchWrapper>\r\n      <Divider />\r\n      <PostList postList={filteredPosts} />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n\r\nexport const pageQuery = graphql`\r\n  query {\r\n    allMarkdownRemark(\r\n      sort: { fields: [frontmatter___date], order: DESC }\r\n      filter: { fileAbsolutePath: { regex: \"/contents/posts/\" } }\r\n    ) {\r\n      nodes {\r\n        excerpt(pruneLength: 200, truncate: true)\r\n        fields {\r\n          slug\r\n        }\r\n        frontmatter {\r\n          date(formatString: \"MMMM DD, YYYY\")\r\n          title\r\n          tags\r\n          emoji\r\n          series\r\n        }\r\n        rawMarkdownBody\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":["SearchWrapper","styled","div","withConfig","displayName","componentId","_ref","data","title","description","siteUrl","blogConfig","posts","allMarkdownRemark","nodes","query","setQuery","useState","filteredPosts","useCallback","filter","post","frontmatter","rawMarkdownBody","lowerQuery","toLocaleLowerCase","includes","React","Layout","SEO","url","VerticalSpace","size","Badge","badgeContent","length","color","max","showZero","sx","top","left","TextField","onChange","e","target","value","placeholder","Divider","PostList","postList"],"sourceRoot":""}